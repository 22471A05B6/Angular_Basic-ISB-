<div class="destinations-page">

  <aside class="sidebar">

    <h2>üåç Discover</h2>

    <!-- TYPE -->
    <div class="filter-section">
      <h4>Destination Type</h4>

      <div class="chip-container">
        <button 
          class="chip"
          [class.active]="selectedType === 'All'"
          (click)="filterByType('All')">
          All
        </button>

        <button
          class="chip"
          *ngFor="let t of destinationTypes"
          [class.active]="selectedType === t"
          (click)="filterByType(t)">
          {{ t }}
        </button>
      </div>
    </div>

    <div class="filter-section">
  <h4>Package Type</h4>

  <div class="package-container">
    <button 
      class="package-btn"
      [class.active]="selectedPackage === 'Standard'"
      (click)="filterByPackage('Standard')">
      Standard
    </button>

    <button 
      class="package-btn"
      [class.active]="selectedPackage === 'Premium'"
      (click)="filterByPackage('Premium')">
      Premium
    </button>

    <button 
      class="package-btn"
      [class.active]="selectedPackage === 'Luxury'"
      (click)="filterByPackage('Luxury')">
      Luxury
    </button>
  </div>
</div>


    <!-- POPULARITY -->
    <div class="filter-section">
      <h4>Popularity</h4>

      <button class="pop-btn"
        [class.active]="selectedPopularity === 'High'"
        (click)="filterByPopularity('High')">
        üî• High
      </button>

      <button class="pop-btn"
        [class.active]="selectedPopularity === 'Medium'"
        (click)="filterByPopularity('Medium')">
        ‚≠ê Medium
      </button>

      <button class="pop-btn"
        [class.active]="selectedPopularity === 'Low'"
        (click)="filterByPopularity('Low')">
        üå± Low
      </button>

      <button class="clear-btn" (click)="clearFilters()">
        Reset Filters
      </button>
    </div>

  </aside>

  <!-- CARDS -->
  <section class="grid" [class.card-active]="expandedIndex !== null">

    <div 
      class="card"
      *ngFor="let d of filteredDestinations; let i = index"
      [class.expanded]="expandedIndex === i"
      [class.faded]="expandedIndex !== null && expandedIndex !== i"
      (click)="toggleCard(i)"
    >

      <div class="image-container">
        <img [src]="d.image" alt="{{ d.name }}">

        <div 
          *ngIf="expandedIndex === i"
          class="back-arrow"
          (click)="closeCard($event)">
          ‚Üê
        </div>
      </div>

      <div class="info">
        <h3>{{ d.name }}</h3>

        <p>
          {{ expandedIndex === i 
              ? d.description + ' This destination offers unforgettable memories.'
              : d.description }}
        </p>

        <div class="tags">
          <span class="type">{{ d.type }}</span>
          <span class="pop">{{ d.popularity }}</span>
        </div>

        <div class="price">
          ‚Çπ {{ d.price | number }}
        </div>

      <button 
  *ngIf="expandedIndex === i"
  class="book-btn"
  (click)="goToDetails(d, $event)">
  Explore
</button>

      </div>
    </div>

  </section>

</div>
